@model EaziLease.Models.Vehicle

@{
    ViewData["Title"] = "Vehicle Details: " + Model.RegistrationNumber;
}

<h1 class="h3 mb-4">Vehicle Details</h1>
<hr />

<div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">@Model.Manufacturer @Model.Model (@Model.Year)</h4>
            </div>
            <div class="card-body">
                <dl class="row">
                    
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.RegistrationNumber)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.RegistrationNumber)</dd>

                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.VIN)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.VIN)</dd>
                    
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.Color)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Color)</dd>
                    
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.FuelType)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.FuelType)</dd>
                    
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.Transmission)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Transmission)</dd>

                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.Status)</dt>
                    <dd class="col-sm-8">
                        <span class="badge bg-@(Model.Status switch {
                            VehicleStatus.Available => "success",
                            VehicleStatus.Leased => "primary",
                            VehicleStatus.InMaintenance => "warning",
                            VehicleStatus.OutOfService => "danger",
                            _ => "secondary"
                        })">
                            @Html.DisplayFor(model => model.Status)
                        </span>
                    </dd>

                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.Branch)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Branch!.Name)</dd>

                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.Supplier)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Supplier!.Name)</dd>

                    <dt class="col-sm-4">Current Driver</dt>
                    <dd class="col-sm-8">@(Model.CurrentDriver?.FullName ?? "N/A")</dd>

                    <dt class="col-sm-4">Current Client</dt>
                    <dd class="col-sm-8">@(Model.CurrentLease?.Client?.CompanyName ?? "N/A")</dd>
                    
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.DailyRate)</dt>
                    <dd class="col-sm-8">@Model.DailyRate.ToString("C")</dd>
                </dl>

                <h5 class="mt-4 border-top pt-3">Purchase & Service History</h5>
                <dl class="row">
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.PurchasePrice)</dt>
                    <dd class="col-sm-8">R @Model.PurchasePrice.ToString()</dd>
                    
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.PurchaseDate)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.PurchaseDate)</dd>
                    
                    <dt class="col-sm-4">@Html.DisplayNameFor(model => model.LastServiceDate)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.LastServiceDate)</dd>
                </dl>
                
            </div>
            <div class="card-footer text-end">
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a>
                <a asp-action="Index" class="btn btn-secondary">Back to List</a>
            </div>
        </div>
    </div>
</div>